<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Timeline with D3.js</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f4f4f9;
        }

        #timeline {
            width: 80%;
        }

        /* Optional Tooltip Styling */
        .tooltip {
            position: absolute;
            background-color: white;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 5px;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <!-- Button Home -->
    <a href="/index.html" class="home-button">Home</a>

    <div id="timeline"></div>
    <script>
        // Timeline Data
        const timelineData = [
            { label: "Прямо зараз", description: "Дії, які відбуваються у поточний момент часу.", time: "now" },
            { label: "Завтра", description: "Дії, які стануться у майбутньому.", time: "future" },
            { label: "Вчора", description: "Дії, які вже відбулись у минулому.", time: "past" },
            { label: "Загалом", description: "Ширший контекст, який включає теперішнє.", time: "general" },
        ];

        // Dimensions
        const width = 600;
        const height = 300;
        const margin = { top: 20, right: 20, bottom: 50, left: 50 };

        // Create SVG Container
        const svg = d3
            .select("#timeline")
            .append("svg")
            .attr("width", width)
            .attr("height", height)
            .style("background-color", "#f9f9f9")
            .style("border", "1px solid #ddd");

        // Create a scale for positioning events
        const xScale = d3.scalePoint()
            .domain(timelineData.map(d => d.time))
            .range([margin.left, width - margin.right]);

        // Add Timeline Line
        svg.append("line")
            .attr("x1", margin.left)
            .attr("x2", width - margin.right)
            .attr("y1", height / 2)
            .attr("y2", height / 2)
            .attr("stroke", "#004080")
            .attr("stroke-width", 2);

        // Add Circles for Events
        svg.selectAll("circle")
            .data(timelineData)
            .enter()
            .append("circle")
            .attr("cx", d => xScale(d.time))
            .attr("cy", height / 2)
            .attr("r", 10)
            .attr("fill", "#004080")
            .on("mouseover", function (event, d) {
                d3.select(this).attr("fill", "#80bfff");
                tooltip.transition().style("opacity", 1);
                tooltip.html(`<strong>${d.label}</strong><br>${d.description}`)
                    .style("left", `${event.pageX + 10}px`)
                    .style("top", `${event.pageY - 28}px`);
            })
            .on("mouseout", function () {
                d3.select(this).attr("fill", "#004080");
                tooltip.transition().style("opacity", 0);
            });

        // Add Labels for Events
        svg.selectAll("text")
            .data(timelineData)
            .enter()
            .append("text")
            .attr("x", d => xScale(d.time))
            .attr("y", height / 2 + 30)
            .attr("text-anchor", "middle")
            .text(d => d.label)
            .attr("fill", "#004080")
            .style("font-size", "14px")
            .style("font-weight", "bold");

        // Tooltip
        const tooltip = d3.select("body")
            .append("div")
            .attr("class", "tooltip");
    </script>
</body>
</html>
